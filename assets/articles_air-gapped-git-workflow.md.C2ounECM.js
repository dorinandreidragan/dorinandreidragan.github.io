import{_ as a,C as e,c as n,o as t,G as l,a2 as h}from"./chunks/framework.DDIT__tB.js";const p="/assets/cover-01.Bq42GfAz.png",y=JSON.parse('{"title":"air gapped git workflow","description":"","frontmatter":{"title":"air gapped git workflow","date":"2025-11-15T00:00:00.000Z","category":"devops","series":"offline workflows","tag":["git","security","airgap","devops","linux"],"summary":"how to use git to keep code flowing between air-gapped machines without internet access","cover":"/images/airgap-cover.png"},"headers":[],"relativePath":"articles/air-gapped-git-workflow.md","filePath":"articles/air-gapped-git-workflow.md"}'),o={name:"articles/air-gapped-git-workflow.md"};function r(k,s,d,c,g,F){const i=e("ArticleStatusBadge");return t(),n("div",null,[l(i),s[0]||(s[0]=h('<img class="cover-image" src="'+p+`"><h1 id="air-gapped-git-workflow" tabindex="-1">air gapped git workflow <a class="header-anchor" href="#air-gapped-git-workflow" aria-label="Permalink to &quot;air gapped git workflow&quot;">​</a></h1><p>You’ve got two Linux boxes. They don’t talk to the internet. They don’t talk to each other. Welcome to the air‑gapped world. Sounds painful? It doesn’t have to be. Let’s break down how to keep your repos in sync and your workflow sane.</p><h2 id="the-pain-point" tabindex="-1">the pain point <a class="header-anchor" href="#the-pain-point" aria-label="Permalink to &quot;the pain point&quot;">​</a></h2><p>You want to code on machine A today, machine B tomorrow. No GitHub. No SSH. No fancy CI/CD pipelines. Just you, your code, and maybe a USB stick. If you don’t solve this, you’ll end up with diverging repos and merge hell.</p><h2 id="the-minimal-solution-git-bundles" tabindex="-1">the minimal solution: git bundles <a class="header-anchor" href="#the-minimal-solution-git-bundles" aria-label="Permalink to &quot;the minimal solution: git bundles&quot;">​</a></h2><p>Start simple. Git has a built‑in way to package commits into a single file. That file can travel by email, USB, sneaker‑net — whatever works.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># on machine A</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/brs</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bundle</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> brs.bundle</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --all</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   # pack the entire repo</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># move brs.bundle to machine B</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># on machine B</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> brs.bundle</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> brs</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">             # first time setup</span></span></code></pre></div><p>✅ Now both machines share the same history. No server required.</p><h2 id="incremental-sync" tabindex="-1">incremental sync <a class="header-anchor" href="#incremental-sync" aria-label="Permalink to &quot;incremental sync&quot;">​</a></h2><p>Once you’ve got both sides initialized, you don’t want to resend the whole repo every time. Instead, bundle just the branch updates.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># on machine B, after making commits</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/brs</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bundle</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> brs_update.bundle</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> main</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   # bundle only the main branch</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># transfer to machine A</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/brs</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ../brs_update.bundle</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> main</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">         # import changes</span></span></code></pre></div><p>⚠️ If you commit on both machines before syncing, expect merge conflicts. That’s normal. Resolve them once, and you’re back in business.</p><h2 id="the-usb-remote-trick" tabindex="-1">the usb remote trick <a class="header-anchor" href="#the-usb-remote-trick" aria-label="Permalink to &quot;the usb remote trick&quot;">​</a></h2><p>Bundles work, but they feel clunky. Want something closer to <code>git push</code>/<code>git pull</code>? Use a bare repo on your USB stick as the “remote.”</p><p><strong>On Machine A (with the existing repo):</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1. Create a bare repo on your USB stick</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /media/usb</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> init</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --bare</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> brs.git</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 2. Add the USB as a remote to your local repo</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/brs</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> usb</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /media/usb/brs.git</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 3. Push your code to the USB remote</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> usb</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> main</span></span></code></pre></div><p><strong>On Machine B (the new machine):</strong></p><p>Now, take the USB to machine B. Instead of adding a remote to an existing repo, you&#39;ll clone it directly from the USB.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1. Clone the repo from the USB</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /media/usb/brs.git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> brs</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 2. (Optional) Check the remote</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> brs</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># origin  /media/usb/brs.git (fetch)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># origin  /media/usb/brs.git (push)</span></span></code></pre></div><p>Now your USB stick acts like GitHub in your pocket. You can <code>git pull</code> and <code>git push</code> to <code>origin</code> from machine B, and to <code>usb</code> from machine A.</p><h2 id="tradeoffs" tabindex="-1">tradeoffs <a class="header-anchor" href="#tradeoffs" aria-label="Permalink to &quot;tradeoffs&quot;">​</a></h2><ul><li><strong>Bundles</strong>: single file, easy to email, but manual.</li><li><strong>Bare repo on USB</strong>: smoother workflow, but requires physical media.</li><li><strong>Conflicts</strong>: unavoidable if you develop in parallel. Git handles it, you just need to resolve.</li></ul><p>Some systems need strict consistency. Others are fine with eventual.</p><h2 id="validation" tabindex="-1">validation <a class="header-anchor" href="#validation" aria-label="Permalink to &quot;validation&quot;">​</a></h2><p>Don’t trust blindly. Always verify after syncing:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> log</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --oneline</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --graph</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --decorate</span></span></code></pre></div><p>If both machines show the same commit graph, you’re synced. If not, you missed a step.</p><h2 id="takeaway" tabindex="-1">takeaway <a class="header-anchor" href="#takeaway" aria-label="Permalink to &quot;takeaway&quot;">​</a></h2><p>Air‑gapped doesn’t mean stuck. With bundles or a USB remote, you can keep two isolated machines in lockstep.</p>`,30))])}const m=a(o,[["render",r]]);export{y as __pageData,m as default};
